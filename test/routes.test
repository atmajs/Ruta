
include
	.inject('/lib/ruta.js')
	.done(function(){

		var routes = new ruta.Collection();

		UTest({
			'add+get': function(){
				
				routes.add('/note/:id/:action(edit|delete)', { foo: 'bar' });

				var got = routes.get('/note/524d66bccc0ac4d8913eaea5/edit?x=y');

				eq(got.value.foo, 'bar');
				eq(got.current.params.id, '524d66bccc0ac4d8913eaea5');
				eq(got.current.params.action, 'edit');
				eq(got.current.params.x, 'y');
				
				routes.add('/install/:name?:global(glob|g)', { foo: 'bar' });
				var got = routes.get('/install/loader?glob=baz');
				
				notEq(got, null);
				eq(got.current.params.global, 'baz');
			},
			
			
		})
	});